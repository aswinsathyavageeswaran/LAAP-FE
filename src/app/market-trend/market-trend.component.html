<app-nav title="Marketing Trends"></app-nav>
<div class="container pt-4" *ngIf="!appService.isLoading">
  <div class="row">
    <div class="col-12">
      <div class="header-det">
        <span class="det-inner"><strong>Loan ID :</strong> 01201550001</span>
        <span class="sep"></span>
        <span class="det-inner"><strong>Loan Amt :</strong> 50000 USD</span>
        <span class="sep"></span>
        <span class="det-inner"><strong>Loan Term :</strong> 10 yrs</span>
        <span class="sep"></span>
        <span class="det-inner"><strong>Maturity Date :</strong> Dec 18, 2031</span>
        <span class="sep"></span>
        <span class="det-inner"><strong>Outstanding Loan Amt :</strong> 45000 USD</span>
      </div>
    </div>
    <div class="col-12">
      <h4 class="header-default mt-3">Overview of Grape Market in United States</h4>
    </div>
    <div class="col-6">
      <div class="card market-graph-1">
        <div class="card-body">
          <div class="row">
            <div class="col-6">
              <h5>Wholesale Price Change</h5>
              <h2 class="green-txt">+1.5%</h2>
              <small>Compared to the week before</small>
            </div>
            <div class="col-6 text-right">
              <small>Dec, 7 2020 ~ Dec, 14 2020</small>
              <div>
                <span class="green-txt txt">+4.4%</span> <small>m</small>
              </div>
              <div>
                <span class="green-txt txt">+4.4%</span> <small>q</small>
              </div>
              <div>
                <span class="red-txt txt">+4.4%</span> <small>y</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-6">
      <div class="card market-graph-1">
        <div class="card-body">
          <div class="row">
            <div class="col-6">
              <h5>Total Production Volume</h5>
              <h2>6.89M</h2>
              <small>Metric Ton</small>
            </div>
            <div class="col-6 text-right">
              <small>in 2018</small>
              <div>
                <span class="green-txt txt">+2.9%</span> <small>1Y</small>
              </div>
              <div>
                <span class="red-txt txt">-1.1%</span> <small>3Y</small>
              </div>
              <div>
                <span class="red-txt txt">-12.0%</span> <small>5Y</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-6 mt-4">
      <div class="card market-graph-1">
        <div class="card-body">
          <div class="row">
            <div class="col-6">
              <h5>Total Export Volume</h5>
              <h2>37.555K</h2>
              <small>Metric Ton</small>
            </div>
            <div class="col-6 text-right">
              <small>in 2019</small>
              <div>
                <span class="red-txt txt">-10.3%</span> <small>1Y</small>
              </div>
              <div>
                <span class="red-txt txt">-2.4%</span> <small>3Y</small>
              </div>
              <div>
                <span class="red-txt txt">-15.3%</span> <small>5Y</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-6 mt-4">
      <div class="card market-graph-1">
        <div class="card-body">
          <div class="row">
            <div class="col-6">
              <h5>Total Import Volume</h5>
              <h2>800.07K</h2>
              <small>Metric Ton</small>
            </div>
            <div class="col-6 text-right">
              <small>in 2019</small>
              <div>
                <span class="green-txt txt">+36.7%</span> <small>1Y</small>
              </div>
              <div>
                <span class="green-txt txt">+45.2%</span> <small>3Y</small>
              </div>
              <div>
                <span class="green-txt txt">+60.8%</span> <small>5Y</small>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 mt-4">
      <h5>Grape Offers in United States</h5>
    </div>

    <div class="col-3">
      <div class="card shd text-center no-hover marketing">
        <img src="assets/grape1.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h6 class="card-title mb-0 marketing">
            <a href="https://www.tridge.com/offers/CAN-9E6BE879" target="_blank">Red Table Grape</a>
          </h6>
          <p class="m-0">Flame</p>
          <small class="price-txt">USD <strong>1.25 / KG</strong></small>
          <p class="card-txt-1">EXW, Nogales, AZ and Los Angeles, CA<br/> <span>All prices valid until Dec 23, 2020</span></p>
          <div>
            <button type="button" class="btn btn-primary mt-3" (click)="selectedIndex = 0; openVendorPopup = true; totalCost=0; quantity=0;">Sign the Deal</button>
          </div>
        </div>
      </div>
    </div>

    <div class="col-3">
      <div class="card shd text-center no-hover marketing">
        <img src="assets/grape2.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h6 class="card-title mb-0 marketing">
            <a href="https://www.tridge.com/offers/CAN-24387A39" target="_blank">Table Grapes from Italy</a>
          </h6>
          <p class="m-0">Whole / Fresh</p>
          <small class="price-txt">EUR <strong>1.8 / KG</strong></small>
          <p class="card-txt-1">EXW, Gioia, Tauro<br/> <span>All prices valid until Dec 22, 2020</span></p>
          <div>
            <button type="button" class="btn btn-primary mt-3" (click)="selectedIndex = 1; openVendorPopup = true; totalCost=0; quantity=0;">Sign the Deal</button>
          </div>
        </div>
      </div>
    </div>

    <div class="col-3">
      <div class="card shd text-center no-hover marketing">
        <img src="assets/grape3.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h6 class="card-title mb-0 marketing">
            <a href="https://www.tridge.com/offers/CAN-9D067A02" target="_blank">Fresh Seedless Grapes of Indian Origin</a>
          </h6>
          <p class="m-0">Thompson  / Fresh</p>
          <small class="price-txt">USD <strong>1.15 / KG</strong></small>
          <p class="card-txt-1">FOB, JNPT Port, Mumbai<br/> <span>All prices valid until Dec 22, 2020</span></p>
          <div>
            <button type="button" class="btn btn-primary mt-3" (click)="selectedIndex = 2; openVendorPopup = true; totalCost=0; quantity=0;">Sign the Deal</button>
          </div>
        </div>
      </div>
    </div>

    <div class="col-3">
      <div class="card shd text-center no-hover marketing">
        <img src="assets/grape4.jpg" class="card-img-top" alt="...">
        <div class="card-body">
          <h6 class="card-title mb-0 marketing">
            <a href="https://www.tridge.com/offers/CAN-3E7C3560" target="_blank">Sultani Grapes from Turkey</a>
          </h6>
          <p class="m-0">Thompson  / Chunks</p>
          <small class="price-txt">USD <strong>1.00 / KG</strong></small>
          <p class="card-txt-1">EXW, Mersin Port<br/> <span>All prices valid until Dec 21, 2020</span></p>
          <div>
            <button type="button" class="btn btn-primary mt-3" (click)="selectedIndex = 3; openVendorPopup = true; totalCost=0; quantity=0;">Sign the Deal</button>
          </div>
        </div>
      </div>
    </div>

    <div class="col-12 mt-4">
      <h5>Grape Domestic Price in USA</h5>
      <div class="graph-1" *ngIf="!appService.isLoading"><img src="assets/graph.png" width="100%"></div>
    </div>
  </div>
</div>

<div class="loan-popup backdrop" *ngIf="openVendorPopup">
  <div class="popup-div vendor-popup" *ngIf="selectedIndex == 0">
      <h3 class="text-center">Red Table Grape</h3>
      <p class="text-center">EXW, Nogales, AZ and Los Angeles, CA</p>
      <p class="text-center">
        <small class="price-txt">USD <strong>1.25 / KG</strong></small>
      </p>
      <div class="row">
        <div class="col-12">
          <div class="mb-3">
            <label for="exampleFormControlInput3" class="form-label"><strong>Contact Number</strong></label>
            <input type="number" class="form-control" id="exampleFormControlInput3" placeholder="Contact Number">
          </div>
          <div class="mb-3">
            <label for="exampleFormControlInput3" class="form-label"><strong>Quantity</strong></label>
            <input type="number" class="form-control" id="exampleFormControlInput3" placeholder="Item Quantity" [(ngModel)]="quantity" (ngModelChange)="qtyInputChanged(1.25);">
          </div>
          <div class="mb-3">
            <label for="exampleFormControlInput3" class="form-label mr-3"><strong>Total Cost : </strong></label>
            <span>USD {{totalCost}}</span>
          </div>
        </div>
        <div class="col-12 text-right mt-3">
          <hr/>
          <button type="button" class="btn btn-secondary" (click)="openVendorPopup = false;">Cancel</button>
          <button type="button" class="btn btn-primary ml-3" (click)="confirmDeal();" >Confirm</button>
        </div>
      </div>
  </div>

  <div class="popup-div vendor-popup" *ngIf="selectedIndex == 1">
    <h3 class="text-center">Table Grapes from Italy</h3>
    <p class="text-center">EXW, Gioia, Tauro</p>
    <p class="text-center">
      <small class="price-txt">EUR <strong>1.8 / KG</strong></small>
    </p>
    <div class="row">
      <div class="col-12">
        <div class="mb-3">
          <label for="exampleFormControlInput3" class="form-label"><strong>Contact Number</strong></label>
          <input type="number" class="form-control" id="exampleFormControlInput3" placeholder="Contact Number">
        </div>
        <div class="mb-3">
          <label for="exampleFormControlInput3" class="form-label"><strong>Quantity</strong></label>
          <input type="number" class="form-control" id="exampleFormControlInput3" placeholder="Item Quantity" [(ngModel)]="quantity" (ngModelChange)="qtyInputChanged(1.8);">
        </div>
        <div class="mb-3">
          <label for="exampleFormControlInput3" class="form-label mr-3"><strong>Total Cost : </strong></label>
          <span>EUR {{totalCost}}</span>
        </div>
      </div>
      <div class="col-12 text-right mt-3">
        <hr/>
        <button type="button" class="btn btn-secondary" (click)="openVendorPopup = false;">Cancel</button>
        <button type="button" class="btn btn-primary ml-3" (click)="confirmDeal();" >Confirm</button>
      </div>
    </div>
</div>

<div class="popup-div vendor-popup" *ngIf="selectedIndex == 2"> 
  <h3 class="text-center">Fresh Seedless Grapes of Indian Origin</h3>
  <p class="text-center">FOB, JNPT Port, Mumbai</p>
  <p class="text-center">
    <small class="price-txt">USD <strong>1.15 / KG</strong></small>
  </p>
  <div class="row">
    <div class="col-12">
      <div class="mb-3">
        <label for="exampleFormControlInput3" class="form-label"><strong>Contact Number</strong></label>
        <input type="number" class="form-control" id="exampleFormControlInput3" placeholder="Contact Number">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlInput3" class="form-label"><strong>Quantity</strong></label>
        <input type="number" class="form-control" id="exampleFormControlInput3" placeholder="Item Quantity" [(ngModel)]="quantity" (ngModelChange)="qtyInputChanged(1.15);">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlInput3" class="form-label mr-3"><strong>Total Cost : </strong></label>
        <span>USD {{totalCost}}</span>
      </div>
    </div>
    <div class="col-12 text-right mt-3">
      <hr/>
      <button type="button" class="btn btn-secondary" (click)="openVendorPopup = false;">Cancel</button>
      <button type="button" class="btn btn-primary ml-3" (click)="confirmDeal();" >Confirm</button>
    </div>
  </div>
</div>

<div class="popup-div vendor-popup" *ngIf="selectedIndex == 3">
  <h3 class="text-center">Sultani Grapes from Turkey</h3>
  <p class="text-center">EXW, Mersin Port</p>
  <p class="text-center">
    <small class="price-txt">USD <strong>1.00 / KG</strong></small>
  </p>
  <div class="row">
    <div class="col-12">
      <div class="mb-3">
        <label for="exampleFormControlInput3" class="form-label"><strong>Contact Number</strong></label>
        <input type="number" class="form-control" id="exampleFormControlInput3" placeholder="Contact Number">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlInput3" class="form-label"><strong>Quantity</strong></label>
        <input type="number" class="form-control" id="exampleFormControlInput3" placeholder="Item Quantity" [(ngModel)]="quantity" (ngModelChange)="qtyInputChanged(1);">
      </div>
      <div class="mb-3">
        <label for="exampleFormControlInput3" class="form-label mr-3"><strong>Total Cost : </strong></label>
        <span>USD {{totalCost}}</span>
      </div>
    </div>
    <div class="col-12 text-right mt-3">
      <hr/>
      <button type="button" class="btn btn-secondary" (click)="openVendorPopup = false;">Cancel</button>
      <button type="button" class="btn btn-primary ml-3" (click)="confirmDeal();" >Confirm</button>
    </div>
  </div>
</div>
</div>

<app-loader></app-loader>
